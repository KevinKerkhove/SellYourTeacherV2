<div class="container mt-4">
    <header class="bg-dark text-white p-2 mb-2 text-center"> 
        <h1>Register</h1>
    </header>

    <form (ngSubmit)="submit()" [formGroup]="form">
        <div class="form-group">
            <label for="firstname">FirstName</label>
            <input type="text" formControlName="firstname" name="firstname" class="form-control" placeholder="Enter a Firstame" [ngClass]="{'is-invalid': submitted && f['firstname'].errors}">
            
            <div *ngIf="submitted && f['firstname'].errors" class="invalid-feedback">
                <div *ngIf="f['firstname'].errors['required']">
                    Firstname is required
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="lastname">LastName</label>
            <input type="text" formControlName="lastname" name="lastname" class="form-control" placeholder="Enter a Lastname" [ngClass]="{'is-invalid': submitted && f['lastname'].errors}">

            <div *ngIf="submitted && f['lastname'].errors" class="invalid-feedback">
                <div *ngIf="f['lastname'].errors['required']">
                    Lastname is required
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="birthday">Birthday</label>
            <input type="date" formControlName="birthday" name="birthday" class="form-control" placeholder="Enter a Birthday" [ngClass]="{'is-invalid': submitted && f['birthday'].errors}"> 

            <div *ngIf="submitted && f['birthday'].errors" class="invalid-feedback">
                <div *ngIf="f['birthday'].errors['required']">
                    Birthday is required
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="role_id">Role</label>
            <select class="form-select" formControlName="role_id" name="role_id" aria-label="Default select example" [(ngModel)]='ngSelect' [ngClass]="{'is-invalid': submitted && f['role_id'].errors}">
                <option selected>{{ this.ngSelect }}</option>
                <option [value]=1 >Student</option>
                <option [value]=2 >Professor</option>
            </select>

            <div *ngIf="submitted && f['role_id'].errors" class="invalid-feedback">
                <div *ngIf="f['role_id'].errors['required']">
                    Role is required
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="text" name="email" formControlName="email" class="form-control" placeholder="Enter an Email" [ngClass]="{'is-invalid': submitted && f['email'].errors}">
        
            <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
                <div *ngIf="f['email'].errors['required']">
                    Email is required
                </div>

                <div *ngIf="f['email'].errors['email']">
                    Email must be a valid email adress
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" name="password" formControlName="password" class="form-control" placeholder="Enter a Password" [ngClass]="{'is-invalid': submitted && f['password'].errors}">  
        
            <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
                <div *ngIf="f['password'].errors['required']">
                    Password is required
                </div>

                <div *ngIf="f['password'].errors['minLength']">
                    Password must be at least 6 characters
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="confirm_password">Confirm Password</label>
            <input type="password" name="confirm_password" formControlName="confirm_password" class="form-control" placeholder="Confirm Password" [ngClass]="{'is-invalid': submitted && f['confirm_password'].errors}">

            <div *ngIf="submitted && f['confirm_password'].errors" class="invalid-feedback">
                <div *ngIf="f['confirm_password'].errors['required']">
                    Confirm Password is required
                </div>

                <div *ngIf="f['confirm_password'].errors['mustMatch']">
                    Confirm password must match the Password
                </div>
            </div>
        </div>
        
        <button type="submit" class="btn btn-dark btn-sm mt-4">Register</button>
    </form>
</div>